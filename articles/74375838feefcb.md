---
title: "Python ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰"
emoji: "ğŸ’­"
type: "tech"
topics: ["python", "algorithm", "datastructure"]
published: false
---

## ğŸ§  ã¯ã˜ã‚ã«

ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’ç†è§£ã™ã‚‹ã“ã¨ã¯ã€**ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ­¦å™¨ã‚’æ‰±ã†ç·´ç¿’**ã€‚  
ã“ã“ã§ã¯ä¸»è¦ãªæ§‹é€ ã®

> ã€Œä½¿ã„ã©ã“ã‚ã€ï¼‹ã€Œæ“ä½œã€ï¼‹ã€ŒBig Oã€ï¼‹ã€Œfor ãƒ«ãƒ¼ãƒ—ï¼å†å¸°ä¾‹ã€  
> ã‚’ç¶²ç¾…ã—ã¾ã™ã€‚

---

## ğŸ§© Listï¼ˆãƒªã‚¹ãƒˆï¼‰

### æ¦‚è¦

é †åºã‚’æŒã¤é…åˆ—ã€‚`append`ãƒ»`pop`ãƒ»`sort` ãŒä¸»ãªæ“ä½œã€‚  
ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãŒ O(1)ã€‚

### ã©ã‚“ãªã¨ãã«ä½¿ã†ã‹ï¼Ÿ

- é †åºä»˜ããƒ‡ãƒ¼ã‚¿
- ã‚¹ã‚¿ãƒƒã‚¯æ“ä½œ
- é…åˆ—ãƒ™ãƒ¼ã‚¹ã®ç®¡ç†

---

#### æ“ä½œ

##### è¦ç´ ã«ã‚¢ã‚¯ã‚»ã‚¹

```python
li = ['apple', 'banana', 'grape']
print(li[0]) # apple
```

**Big O:** O(1)

##### â• æœ«å°¾ã«è¿½åŠ 

```python
li = []
li.append(1)
```

**Big O:** O(1)

##### â• å…ˆé ­ã«æŒ¿å…¥

```python
li.insert(0, 5)
```

Big O -> O(n)

##### â– æœ«å°¾å‰Šé™¤

```python
li.pop()
```

**Big O:** O(1)

##### ğŸ” æ¤œç´¢

```python
li = ['apple', 'banana', 'grape']

if 'apple' in li:
    return true
```

**Big O:** O(n)

##### ğŸ” ã‚½ãƒ¼ãƒˆ

```python
li.sort()
```

**Big O:** O(n log n)

---

### ğŸŒ€ Iterableï¼ˆfor ãƒ«ãƒ¼ãƒ—ï¼‰ä¾‹

```python
for x in li:
    print(x)
```

### ğŸ” å†å¸°ï¼ˆRecursionï¼‰ä¾‹

```python
def print_list(li, i=0):
    if i == len(li): return
    print(li[i])
    print_list(li, i + 1)

print_list([1,2,3])
```

---

## ğŸ§­ Hash Mapï¼ˆè¾æ›¸ / dictï¼‰

### æ¦‚è¦

ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’ O(1)ã§æ‰±ãˆã‚‹ãƒãƒƒã‚·ãƒ¥æ§‹é€ ã€‚

### ã©ã‚“ãªã¨ãã«ä½¿ã†ã‹ï¼Ÿ

- é«˜é€Ÿãªæ¤œç´¢ãƒ»æ›´æ–°
- é »åº¦ã‚«ã‚¦ãƒ³ãƒˆ
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒãƒƒãƒ”ãƒ³ã‚°

---

#### æ“ä½œ

##### â• è¿½åŠ  / æ›´æ–°

```python
d = {}
d["apple"] = 5
```

**Big O:** O(1)

##### ğŸ” æ¤œç´¢

```python
d = {"apple": 2, "banana": 4}
if "apple" in d:
    print(d["apple"]) # 2
```

**Big O:** O(1)

##### â– å‰Šé™¤

```python
del d["apple"]
```

**Big O:** O(1)

---

### ğŸŒ€ Iterableï¼ˆfor ãƒ«ãƒ¼ãƒ—ï¼‰ä¾‹

```python
for k, v in d.items():
    print(k, v)
```

### ğŸ” å†å¸°ï¼ˆRecursionï¼‰ä¾‹

è¾æ›¸ã¯é€šå¸¸å†å¸°ã—ãªã„ãŒã€**ãƒã‚¹ãƒˆè¾æ›¸ã®æ¢ç´¢**ã§ä½¿ãˆã‚‹ã€‚

```python
def traverse_dict(d):
    for k, v in d.items():
        if isinstance(v, dict):
            traverse_dict(v)
        else:
            print(k, v)
```

---

## ğŸ” Dequeï¼ˆä¸¡ç«¯ã‚­ãƒ¥ãƒ¼ï¼‰

### æ¦‚è¦

ä¸¡ç«¯ã®è¿½åŠ ãƒ»å‰Šé™¤ãŒ O(1)ã€‚`collections.deque`ã‚’åˆ©ç”¨ã€‚

### ã©ã‚“ãªã¨ãã«ä½¿ã†ã‹ï¼Ÿ

- BFS / Queue
- ã‚¹ãƒ©ã‚¤ãƒ‡ã‚£ãƒ³ã‚°ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦

---

#### æ“ä½œ

##### â• ä¸¡ç«¯æ“ä½œ

```python
from collections import deque
dq = deque()
dq.append(1)
dq.appendleft(0)
dq.pop()
dq.popleft()
```

**Big O:** O(1)

---

### ğŸŒ€ Iterable

```python
for x in dq:
    print(x)
```

### ğŸ” å†å¸°ï¼ˆã‚­ãƒ¥ãƒ¼å‡¦ç†ä¾‹ï¼‰

```python
def process(dq):
    if not dq:
        return
    x = dq.popleft()
    print(x)
    process(dq)
```

---

## ğŸŒ¿ Setï¼ˆé›†åˆï¼‰

### æ¦‚è¦

é‡è¤‡ãªã—ã€é †åºãªã—ã€‚
æ¢ç´¢ãƒ»è¿½åŠ ãƒ»å‰Šé™¤ãŒå¹³å‡ O(1)ã€‚

### ã©ã‚“ãªã¨ãã«ä½¿ã†ã‹ï¼Ÿ

- é‡è¤‡æ’é™¤
- å­˜åœ¨åˆ¤å®šã‚’é«˜é€ŸåŒ–

---

#### æ“ä½œ

```python
s = set()
s.add(1)
1 in s
s.remove(1)
```

**Big O:** O(1)

---

### ğŸŒ€ Iterable

```python
for val in s:
    print(val)
```

### ğŸ” å†å¸°ï¼ˆä¾‹ï¼šé›†åˆã‚’æ¶ˆè²»ã—ãªãŒã‚‰å‡ºåŠ›ï¼‰

```python
def print_set(s):
    if not s: return
    val = s.pop()
    print(val)
    print_set(s)
```

---

## ğŸªœ Heapï¼ˆãƒ’ãƒ¼ãƒ— / heapqï¼‰

### æ¦‚è¦

æœ€å°å€¤ã‚’ O(1)ã§å–å¾—ã€æŒ¿å…¥å‰Šé™¤ã¯ O(log n)ã€‚

### ã©ã‚“ãªã¨ãã«ä½¿ã†ã‹ï¼Ÿ

- å„ªå…ˆåº¦ä»˜ãã‚­ãƒ¥ãƒ¼
- K æœ€å° / K æœ€å¤§å•é¡Œ

---

#### æ“ä½œ

```python
import heapq
h = []
heapq.heappush(h, 3)
heapq.heappush(h, 1)
heapq.heappush(h, 2)
x = heapq.heappop(h)  # æœ€å°å€¤
```

**Big O:** æŒ¿å…¥ O(log n)ã€å‰Šé™¤ O(log n)

---

### ğŸŒ€ Iterable

ãƒ’ãƒ¼ãƒ—ã¯å¸¸ã«ã€Œæœ€å°å€¤ãŒå…ˆé ­ã€ã«ã‚ã‚‹ã€‚

```python
while h:
    print(heapq.heappop(h))
```

### ğŸ” å†å¸°

```python
def print_heap(h):
    if not h: return
    print(heapq.heappop(h))
    print_heap(h)
```

---

## ğŸ”— Linked Listï¼ˆå˜æ–¹å‘ï¼‰

### æ¦‚è¦

1 ã¤ã®ãƒãƒ¼ãƒ‰ãŒã€Œæ¬¡ã€ã‚’æŒ‡ã™ã€‚
æ¢ç´¢ O(n)ã€å…ˆé ­/æœ«å°¾æ“ä½œ O(1)ã€‚

---

#### å®Ÿè£…

```python
class Node:
    def __init__(self, val):
        self.val = val
        self.next = None
```

---

#### æ“ä½œ

##### â• æŒ¿å…¥

```python
head = Node(1)
head.next = Node(2)
```

##### â– å‰Šé™¤

å‰ãƒãƒ¼ãƒ‰ã‚’è¾¿ã£ã¦ `prev.next = node.next`

---

### ğŸŒ€ Iterable

```python
cur = head
while cur:
    print(cur.val)
    cur = cur.next
```

### ğŸ” å†å¸°

```python
def print_linked(node):
    if not node: return
    print(node.val)
    print_linked(node.next)
```

---

## ğŸ”— Linked Listï¼ˆåŒæ–¹å‘ï¼‰

### æ¦‚è¦

å‰å¾Œã®ãƒã‚¤ãƒ³ã‚¿ã‚’æŒã¤ã€‚å‰Šé™¤ãƒ»ç§»å‹•ãŒ O(1)ã€‚
LRU ãªã©ã§ä½¿ç”¨ã€‚

---

#### å®Ÿè£…

```python
class DNode:
    def __init__(self, val):
        self.val = val
        self.prev = None
        self.next = None
```

---

#### æ“ä½œ

```python
# ãƒãƒ¼ãƒ‰å‰Šé™¤
node.prev.next = node.next
node.next.prev = node.prev
```

**Big O:** O(1)

---

### ğŸŒ€ Iterableï¼ˆå‰æ–¹å‘ï¼‰

```python
cur = head
while cur:
    print(cur.val)
    cur = cur.next
```

### ğŸŒ€ Iterableï¼ˆé€†æ–¹å‘ï¼‰

```python
cur = tail
while cur:
    print(cur.val)
    cur = cur.prev
```

### ğŸ” å†å¸°ï¼ˆå‰æ–¹å‘ï¼‰

```python
def traverse(node):
    if not node: return
    print(node.val)
    traverse(node.next)
```

---

## ğŸŒ Union-Findï¼ˆç´ é›†åˆï¼‰

### æ¦‚è¦

ã‚°ãƒ«ãƒ¼ãƒ—ã‚’çµ±åˆãƒ»åˆ¤å®šã™ã‚‹ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€‚
`find`ã¨`union`ã® 2 æ“ä½œã€‚

---

#### å®Ÿè£…

```python
class DSU:
    def __init__(self, n):
        self.p = list(range(n))
    def find(self, x):
        if self.p[x] != x:
            self.p[x] = self.find(self.p[x])
        return self.p[x]
    def union(self, x, y):
        self.p[self.find(x)] = self.find(y)
```

---

### ğŸŒ€ Iterableï¼ˆå…¨ãƒãƒ¼ãƒ‰ç¢ºèªï¼‰

```python
dsu = DSU(5)
for i in range(5):
    print(i, dsu.find(i))
```

### ğŸ” å†å¸°ï¼ˆçµŒè·¯åœ§ç¸®ï¼‰

```python
# findå†…éƒ¨ãŒå†å¸°å‘¼ã³å‡ºã—ã«ãªã£ã¦ã„ã‚‹
```

---

## ğŸ§® Big-O ã¾ã¨ã‚

| æ§‹é€             | æ¢ç´¢         | æŒ¿å…¥      | å‰Šé™¤      | å‚™è€ƒ         |
| --------------- | ------------ | --------- | --------- | ------------ |
| list            | O(n)         | O(1)/O(n) | O(1)/O(n) | é…åˆ—ãƒ™ãƒ¼ã‚¹   |
| deque           | O(n)         | O(1)      | O(1)      | ä¸¡ç«¯é«˜é€Ÿ     |
| dict/set        | O(1)         | O(1)      | O(1)      | ãƒãƒƒã‚·ãƒ¥æ§‹é€  |
| heapq           | O(1)æœ€å°å–å¾— | O(log n)  | O(log n)  | å„ªå…ˆåº¦ã‚­ãƒ¥ãƒ¼ |
| linked list(å˜) | O(n)         | O(1)      | O(n)      | å‰æ¢ç´¢å¿…è¦   |
| linked list(åŒ) | O(n)æ¢ç´¢     | O(1)      | O(1)      | LRU å¯¾å¿œ     |
| Union-Find      | -            | O(Î±(n))   | -         | ã»ã¼å®šæ•°     |

---

## ğŸ ã¾ã¨ã‚

- **for ãƒ«ãƒ¼ãƒ—**ï¼šåå¾©çš„å‡¦ç†ã§å…¨ä½“èµ°æŸ»
- **å†å¸°**ï¼šæ§‹é€ ã‚’â€œåˆ†å‰²ã—ã¦å‡¦ç†â€ã™ã‚‹å¼·åŠ›ãªæ‰‹æ®µ
- **å˜æ–¹å‘ï¼åŒæ–¹å‘ãƒªã‚¹ãƒˆ**ï¼šå‰Šé™¤ã‚³ã‚¹ãƒˆã‚’æ„è­˜ã—ã¦ä½¿ã„åˆ†ã‘

ã“ã®ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã‚’çœºã‚ã‚‹ã ã‘ã§ã€
ã©ã‚“ãªã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å•é¡Œã«ã‚‚ã€Œã©ã®æ­¦å™¨ã§æˆ¦ã†ã‹ã€ãŒã™ãæµ®ã‹ã³ã¾ã™ âš”ï¸
